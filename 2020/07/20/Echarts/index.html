<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Echarts | Dong</title><meta name="description" content="基于Eharts和arcgis server的静态地图设计，包括页面搭建、Echarts、arcgis server地图服务调用以及配合node搭建的服务器使用"><meta name="keywords" content="Echarts,ArcGIS Server,Node"><meta name="author" content="天际线上的猪"><meta name="copyright" content="天际线上的猪"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon3.png"><link rel="canonical" href="http://dong-666.github.io/2020/07/20/Echarts/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Echarts"><meta property="og:url" content="http://dong-666.github.io/2020/07/20/Echarts/"><meta property="og:site_name" content="Dong"><meta property="og:description" content="基于Eharts和arcgis server的静态地图设计，包括页面搭建、Echarts、arcgis server地图服务调用以及配合node搭建的服务器使用"><meta property="og:image" content="http://dong-666.github.io/img/code.jpg"><meta property="article:published_time" content="2020-07-19T16:00:00.000Z"><meta property="article:modified_time" content="2022-04-17T13:09:33.997Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="AJAX笔记" href="http://dong-666.github.io/2020/07/20/AJAX/"><link rel="next" title="全球疫情地图" href="http://dong-666.github.io/2020/07/20/%E5%85%A8%E7%90%83%E7%96%AB%E6%83%85%E5%9C%B0%E5%9B%BE/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: 天际线上的猪","link":"链接: ","source":"来源: Dong","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: false,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2022-04-17 21:09:33'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Dong" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">106</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">35</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">14</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/te/"><i class="fa-fw fas fa-map"></i><span> 疫情地图</span></a></div><div class="menus_item"><a class="site-page" href="/todolist/"><i class="fa-fw fas fa-check-circle"></i><span> ToDoList</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-camera"></i><span> Gallery</span></a></li></ul></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#静态地图布局设计"><span class="toc-number">1.</span> <span class="toc-text">静态地图布局设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#所需技术"><span class="toc-number">1.1.</span> <span class="toc-text">所需技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#页面布局"><span class="toc-number">1.2.</span> <span class="toc-text">页面布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#页面HTML文件"><span class="toc-number">1.2.1.</span> <span class="toc-text">页面HTML文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#页面初始化"><span class="toc-number">1.2.2.</span> <span class="toc-text">页面初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#页面底部以及背景图设置"><span class="toc-number">1.2.3.</span> <span class="toc-text">页面底部以及背景图设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#页面顶部导航条设置"><span class="toc-number">1.2.4.</span> <span class="toc-text">页面顶部导航条设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mainbox主体模块"><span class="toc-number">1.2.5.</span> <span class="toc-text">mainbox主体模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#公共面板模块-panel"><span class="toc-number">1.2.6.</span> <span class="toc-text">公共面板模块 panel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图表标题及图表布局"><span class="toc-number">1.2.7.</span> <span class="toc-text">图表标题及图表布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中间布局"><span class="toc-number">1.2.8.</span> <span class="toc-text">中间布局</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#地图模块（css动画）"><span class="toc-number">1.2.8.1.</span> <span class="toc-text">地图模块（css动画）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ECharts"><span class="toc-number">2.</span> <span class="toc-text">ECharts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用步骤"><span class="toc-number">2.1.</span> <span class="toc-text">使用步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用对象"><span class="toc-number">2.2.</span> <span class="toc-text">常用对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目正式使用"><span class="toc-number">2.3.</span> <span class="toc-text">项目正式使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#左上柱状图"><span class="toc-number">2.4.</span> <span class="toc-text">左上柱状图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#柱状图2定制"><span class="toc-number">2.5.</span> <span class="toc-text">柱状图2定制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#折线图1-模块"><span class="toc-number">2.6.</span> <span class="toc-text">折线图1 模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#折线图2模块"><span class="toc-number">2.7.</span> <span class="toc-text">折线图2模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#饼形图1模块"><span class="toc-number">2.8.</span> <span class="toc-text">饼形图1模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#饼形图（南丁格尔玫瑰图）"><span class="toc-number">2.9.</span> <span class="toc-text">饼形图（南丁格尔玫瑰图）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#载入arcgis-server-的地图服务"><span class="toc-number">3.</span> <span class="toc-text">载入arcgis server 的地图服务</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#后台搭建服务器"><span class="toc-number">4.</span> <span class="toc-text">后台搭建服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ajax配合echarts使用"><span class="toc-number">5.</span> <span class="toc-text">ajax配合echarts使用</span></a></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/code.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Dong</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/te/"><i class="fa-fw fas fa-map"></i><span> 疫情地图</span></a></div><div class="menus_item"><a class="site-page" href="/todolist/"><i class="fa-fw fas fa-check-circle"></i><span> ToDoList</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-camera"></i><span> Gallery</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Echarts</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-07-20 00:00:00"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2020-07-20</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2022-04-17 21:09:33"><i class="fas fa-history fa-fw"></i> 更新于 2022-04-17</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/Echarts/">Echarts</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>字数总计:</span><span class="word-count">9.2k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 40 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="静态地图布局设计"><a href="#静态地图布局设计" class="headerlink" title="静态地图布局设计"></a>静态地图布局设计</h1><blockquote>
<p>这一节的教程是基于b站<a href="https://www.bilibili.com/video/BV1v7411R7mp" target="_blank" rel="noopener">pink老师</a>的教程进行记录的，感兴趣的可以点过去学习一波</p>
</blockquote>
<p>案例——ECharts</p>
<p>前期准备工作，搭建项目文件夹存储对应文件</p>
<h2 id="所需技术"><a href="#所需技术" class="headerlink" title="所需技术"></a>所需技术</h2><ol>
<li><p>css布局</p>
</li>
<li><p>flex布局</p>
<ul>
<li><p>引用flex文件，下载地址：<a href="https://github.com/amfe/lib-flexible，之后在页面引用index.js文件(修改名字更佳)" target="_blank" rel="noopener">https://github.com/amfe/lib-flexible，之后在页面引用index.js文件(修改名字更佳)</a></p>
</li>
<li><p>设置分配大小</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set 1rem = viewWidth / 10</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">setRemUnit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> rem = docEl.clientWidth / <span class="number">24</span>; <span class="comment">//设置平均分24等分</span></span><br><span class="line">   docEl.style.fontSize = rem + <span class="string">"px"</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置样式，浏览器控制台验证是否生效</p>
</li>
</ul>
</li>
<li><p>原生js+JQuery</p>
</li>
<li><p>rem适配（px转rem）</p>
<ul>
<li><p>sublime安装插件，下载地址<a href="https://gitee.com/selience/Sublime-cssrem-plugin.git" target="_blank" rel="noopener">https://gitee.com/selience/Sublime-cssrem-plugin.git</a></p>
</li>
<li><p>打开sublime插件目录</p>
</li>
<li><p>将下载的插件包复制进该文件夹</p>
</li>
<li><p>打开sublime，首选项→package Settions→cssrem→设置，本来打算在这两个文件设置相应配置，但失败了（懒得研究）</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/20/Echarts/image-20200616210129279.png" alt="image-20200616210129279"></p>
</li>
<li><p>在插件文件夹打开Sublime-cssrem-plugin，路径→Sublime Text 3\Packages\Sublime-cssrem-plugin，修改设置</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/20/Echarts/image-20200616205943772.png" alt="image-20200616205943772"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"px_to_rem"</span>: <span class="number">80</span>, <span class="comment">//设置80px转1rem</span></span><br><span class="line">    <span class="string">"max_rem_fraction_length"</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="string">"available_file_types"</span>: [<span class="string">".css"</span>, <span class="string">".less"</span>, <span class="string">".sass"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ol>
<h2 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a>页面布局</h2><h3 id="页面HTML文件"><a href="#页面HTML文件" class="headerlink" title="页面HTML文件"></a>页面HTML文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>中国疫情地图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--     &lt;link rel="stylesheet" href="Bootstrap/css/bootstrap.min.css"&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--     &lt;script src="Bootstrap/js/bootstrap.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- arcgis模块 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://js.arcgis.com/4.15/esri/themes/light/main.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://js.arcgis.com/4.15/"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span> 中国疫情地图 <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"showTime"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 这里是时间函数，下面有 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"mainbox"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 左 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel bar"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 中 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 上模块 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"no"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"no-hd"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>12566<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"no-bd"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>当前确诊人数<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span>累计确诊人数<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 地图模块 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"map1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"map2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"map3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span> <span class="attr">id</span>=<span class="string">"viewDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 右 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>各省疫情状况<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panelFooter"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/flexible.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="js/echarts.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/index.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="页面初始化"><a href="#页面初始化" class="headerlink" title="页面初始化"></a>页面初始化</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="页面底部以及背景图设置"><a href="#页面底部以及背景图设置" class="headerlink" title="页面底部以及背景图设置"></a>页面底部以及背景图设置</h3><ul>
<li>引入背景图（覆盖整个页面）</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/bg.jpg'</span>) no-repeat top center;</span><br><span class="line">    <span class="comment">/* 覆盖整个页面 */</span></span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="页面顶部导航条设置"><a href="#页面顶部导航条设置" class="headerlink" title="页面顶部导航条设置"></a>页面顶部导航条设置</h3><ol>
<li>高度为100px</li>
<li>背景图，在容器内显示</li>
<li>缩放比例为 100%</li>
<li>h1 标题部分   白色  38像素 居中显示  行高为 80像素</li>
<li>时间模块 showTime   定位右侧  right 为 30px   行高为 75px  文字颜色为：rgba(255, 255, 255, 0.7)     而文字大小为 20像素 </li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/head_bg.png'</span>) no-repeat top center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.25rem</span>;</span><br><span class="line">    <span class="comment">/* 🔺缩放比例 100% */</span></span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.475rem</span>;</span><br><span class="line">    <span class="comment">/* 文字居中 */</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.showTime</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0.375rem</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">0.9375rem</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.7</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>这里的时间实时更新函数引用之前的js案例并相应修改，同时添加定时器（setInterval() 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式）用来每隔指定时间调用该函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formaDate = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">var</span> year = d.getFullYear(), <span class="comment">//多变量赋值</span></span><br><span class="line">        month = d.getMonth() + <span class="number">1</span>, <span class="comment">//month：从0开始</span></span><br><span class="line">        date = d.getDate(),</span><br><span class="line">        hour = d.getHours(),</span><br><span class="line">        minute = d.getMinutes(),</span><br><span class="line">        second = d.getSeconds();</span><br><span class="line"></span><br><span class="line">    year = year &lt; <span class="number">10</span> ? <span class="string">'0'</span> + year : year; <span class="comment">//三元操作符</span></span><br><span class="line">    month = month &lt; <span class="number">10</span> ? <span class="string">'0'</span> + month : month;</span><br><span class="line">    date = date &lt; <span class="number">10</span> ? <span class="string">'0'</span> + date : date;</span><br><span class="line">    hour = hour &lt; <span class="number">10</span> ? <span class="string">'0'</span> + hour : hour;</span><br><span class="line">    minute = minute &lt; <span class="number">10</span> ? <span class="string">'0'</span> + minute : minute;</span><br><span class="line">    second = second &lt; <span class="number">10</span> ? <span class="string">'0'</span> + second : second;</span><br><span class="line">    <span class="keyword">var</span> a = year + <span class="string">'-'</span> + month + <span class="string">'-'</span> + date + <span class="string">' '</span> + hour + <span class="string">':'</span> + minute + <span class="string">':'</span> + second</span><br><span class="line">    $(<span class="string">'.showTime'</span>).html(a);</span><br><span class="line">&#125;</span><br><span class="line">setInterval(formaDate, <span class="number">1000</span>) <span class="comment">//设定定时器，循环运行;</span></span><br></pre></td></tr></table></figure>

<h3 id="mainbox主体模块"><a href="#mainbox主体模块" class="headerlink" title="mainbox主体模块"></a>mainbox主体模块</h3><ol>
<li>需要一个上左右的10px 的内边距</li>
<li>column 列容器，分三列，占比 3：5：3</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mainbox</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>:  <span class="number">0.125rem</span> <span class="number">0.125rem</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">1024px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">1920px</span>;</span><br><span class="line">    <span class="comment">/* background-color: lightpink; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.column</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.column</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">5</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0.125rem</span> <span class="number">0.1875rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="公共面板模块-panel"><a href="#公共面板模块-panel" class="headerlink" title="公共面板模块 panel"></a>公共面板模块 panel</h3><p>设置放置图表的容器公共样式</p>
<ul>
<li>高度为 310px<ul>
<li>1像素的 1px solid rgba(25, 186, 139, 0.17)  边框</li>
<li>有line.jpg 背景图片</li>
<li>padding为  上为 0  左右 15px  下为 40px</li>
<li>下外边距是 15px</li>
<li>利用panel  盒子 before 和after 制作上面两个角   大小为 10px  线条为  2px solid #02a6b5</li>
<li>新加一个盒子before 和after   制作下侧两个角  宽度高度为 10px</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3.875rem</span>;</span><br><span class="line">    <span class="comment">/* width: 100%; */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">186</span>, <span class="number">139</span>, <span class="number">0.17</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.04</span>) <span class="built_in">url</span>(<span class="string">'../images/line(1).png'</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0.1875rem</span> <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0.1875rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 要给内容 */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 要给内容 */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.panelFooter</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* background-color: pink; */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panelFooter</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 要给内容 */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panelFooter</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 要给内容 */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="图表标题及图表布局"><a href="#图表标题及图表布局" class="headerlink" title="图表标题及图表布局"></a>图表标题及图表布局</h3><ul>
<li>标题模块  h2    高度为 48px   文字颜色为白色  文字大小为  20px  </li>
<li>图标内容模块  chart   高度 240px </li>
<li>以上可以作为panel公共样式部分 </li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.6rem</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">0.6rem</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.25rem</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span> <span class="selector-class">.chart</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3.0rem</span>;</span><br><span class="line">    <span class="comment">/* margin: 0 0.1875rem; */</span></span><br><span class="line">    <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="中间布局"><a href="#中间布局" class="headerlink" title="中间布局"></a>中间布局</h3><ul>
<li><p>上面是no 数字模块</p>
</li>
<li><p>下面是map 地图模块</p>
</li>
<li><p>字体声明</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 声明字体*/</span></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: electronicFont;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(../font/DS-DIGIT.TTF);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li>数字模块 no  有个背景颜色  rgba(101, 132, 226, 0.1);  有个15像素的内边距</li>
<li>注意中间列 column 有个 左右 10px 下 15px 的外边距</li>
<li>no 模块里面上下划分  上面是数字（no-hd)   下面 是 相关文字说明(no-bd)</li>
<li>no-hd 数字模块   有一个边框 1px solid rgba(25, 186, 139, 0.17)    </li>
<li>no-hd 数字模块 里面分为两个小li  每个小li高度为 80px   文字大小为   70px   颜色为 #ffeb7b   字体是图标字体  electronicFont</li>
<li>no-hd 利用 after 和 before制作2个小角，  边框  2px solid #02a6b5  宽度为 30px  高度为 10px</li>
<li>小竖线 给 第一个小li after 就可以  1px宽 背景颜色为 rgba(255, 255, 255, 0.2);     高度 50%  top 25% 即可</li>
<li>no-bd 里面也有两个小li  高度为 40px   文字颜色为  rgba(255, 255, 255, 0.7)   文字大小为 18px   上内边距为  10px</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.no</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">101</span>, <span class="number">132</span>, <span class="number">226</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.1875rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-hd</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">186</span>, <span class="number">139</span>, <span class="number">0.17</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-hd</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">	<span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">	<span class="attribute">border-left</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">0.375rem</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">0.125rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.no-hd</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">	<span class="attribute">border-right</span>: <span class="number">2px</span> solid <span class="number">#02a6b5</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">0.375rem</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">0.125rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-hd</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.no-hd</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">	<span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">0.875rem</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">1.0rem</span>;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#ffeb7b</span>;</span><br><span class="line">	<span class="attribute">font-family</span>: electronicFont;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-hd</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(1)</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">25%</span>;</span><br><span class="line">	<span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-bd</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.no-bd</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">	<span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">0.5rem</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.7</span>);</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">0.225rem</span>;</span><br><span class="line">	<span class="attribute">padding-top</span>: <span class="number">0.125rem</span>;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="地图模块（css动画）"><a href="#地图模块（css动画）" class="headerlink" title="地图模块（css动画）"></a>地图模块（css动画）</h4><ol>
<li>地图模块高度为 810px  里面包含4个盒子  chart、 放图表模块、球体盒子、旋转1、旋转2  </li>
<li>球体图片模块 map1    大小为 518px  要加背景图片 因为要缩放100%     <strong>定位到最中央</strong>    透明度 .3   </li>
<li>旋转1  map 2    大小为 643px 要加背景图片 因为要缩放100%    <strong>定位到中央</strong>  透明度  .6   做旋转动画</li>
<li>旋转2  map3  大小为 566px  要加背景图片 因为要缩放100%    <strong>定位到中央</strong> 旋转动画 注意是逆时针 </li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.map</span> &#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">10.125rem</span>;</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.map</span> <span class="selector-class">.map1</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="attribute">opacity</span>: <span class="number">0.3</span>;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/map.png'</span>) no-repeat;</span><br><span class="line">	<span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.map</span> <span class="selector-class">.map2</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="comment">/* opacity: 0.3; */</span></span><br><span class="line">	<span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/lbx.png'</span>) no-repeat;</span><br><span class="line">	<span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;	</span><br><span class="line">	<span class="attribute">animation</span>: rotate <span class="number">15s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.map</span> <span class="selector-class">.map3</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">6.475rem</span>;</span><br><span class="line">	<span class="comment">/* opacity: 0.3; */</span></span><br><span class="line">	<span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../images/jt.png'</span>) no-repeat;</span><br><span class="line">	<span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;	</span><br><span class="line">	<span class="attribute">animation</span>: rotate1 <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.map</span> <span class="selector-class">.chart</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">10.125rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> rotate&#123;</span><br><span class="line">	<span class="selector-tag">from</span> &#123;</span><br><span class="line">		<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>) <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="selector-tag">to</span> &#123;</span><br><span class="line">		<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>) <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> rotate1&#123;</span><br><span class="line">	<span class="selector-tag">from</span> &#123;</span><br><span class="line">		<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>) <span class="built_in">rotate</span>(<span class="number">0deg</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="selector-tag">to</span> &#123;</span><br><span class="line">		<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>) <span class="built_in">rotate</span>(-<span class="number">360deg</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ECharts"><a href="#ECharts" class="headerlink" title="ECharts"></a>ECharts</h1><blockquote>
<p>这一节的教程也是基于b站<a href="https://www.bilibili.com/video/BV1v7411R7mp" target="_blank" rel="noopener">pink老师</a>的教程进行记录的，感兴趣的可以点过去学习一波</p>
</blockquote>
<p>常见的数据可视化库：</p>
<ul>
<li>D3.js   目前 Web 端评价最高的 Javascript 可视化工具库(入手难)  </li>
<li>ECharts.js   百度出品的一个开源 Javascript 数据可视化库   </li>
<li>Highcharts.js  国外的前端数据可视化库，非商用免费，被许多国外大公司所使用  </li>
<li>AntV  蚂蚁金服全新一代数据可视化解决方案  等等</li>
<li>Highcharts 和 Echarts 就像是 Office 和 WPS 的关系</li>
</ul>
<blockquote>
<p>ECharts，一个使用 JavaScript 实现的开源可视化库，可以流畅的运行在 PC 和移动设备上，兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底层依赖矢量图形库 <a href="https://github.com/ecomfe/zrender" target="_blank" rel="noopener">ZRender</a>，提供直观，交互丰富，可高度个性化定制的数据可视化图表。</p>
</blockquote>
<p>简单理解</p>
<ul>
<li>是一个JS插件</li>
<li>性能好可流畅运行PC与移动设备</li>
<li>兼容主流浏览器</li>
<li>提供很多常用图表，且可<strong>定制</strong>。<ul>
<li><a href="https://www.echartsjs.com/zh/option.html#series-line" target="_blank" rel="noopener">折线图</a>、<a href="https://www.echartsjs.com/zh/option.html#series-bar" target="_blank" rel="noopener">柱状图</a>、<a href="https://www.echartsjs.com/zh/option.html#series-scatter" target="_blank" rel="noopener">散点图</a>、<a href="https://www.echartsjs.com/zh/option.html#series-pie" target="_blank" rel="noopener">饼图</a>、<a href="https://www.echartsjs.com/zh/option.html#series-candlestick" target="_blank" rel="noopener">K线图</a></li>
</ul>
</li>
</ul>
<h2 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h2><p>下载地址：<a href="https://www.echartsjs.com/zh/index.html" target="_blank" rel="noopener">https://www.echartsjs.com/zh/index.html</a></p>
<ol>
<li>引入echarts 插件文件到html页面中(<strong>🔺注意：引入的Echarts的js文件必须在arcgis前面</strong>)</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"js/echarts.min.js"</span>&gt; &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>准备一个具备宽度和高度的DOM容器</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>初始化echarts实例对象</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>指定配置项和数据(option)</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> option = &#123;</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        type: <span class="string">'category'</span>,</span><br><span class="line">        data: [<span class="string">'Mon'</span>, <span class="string">'Tue'</span>, <span class="string">'Wed'</span>, <span class="string">'Thu'</span>, <span class="string">'Fri'</span>, <span class="string">'Sat'</span>, <span class="string">'Sun'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">        type: <span class="string">'value'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        data: [<span class="number">820</span>, <span class="number">932</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>],</span><br><span class="line">        type: <span class="string">'line'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>将配置项设置给echarts实例对象</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myChart.setOption(option);</span><br></pre></td></tr></table></figure>

<h2 id="常用对象"><a href="#常用对象" class="headerlink" title="常用对象"></a>常用对象</h2><blockquote>
<p><code>series</code> <code>xAxis</code> <code>yAxis</code> <code>grid</code> <code>tooltip</code> <code>title</code> <code>legend</code> <code>color</code> </p>
</blockquote>
<ul>
<li><p>series</p>
<ul>
<li>系列列表。每个系列通过 <code>type</code> 决定自己的图表类型</li>
<li>图标数据，指定什么类型的图表，可以多个图表重叠。</li>
</ul>
</li>
<li><p>xAxis：直角坐标系 grid 中的 x 轴</p>
<ul>
<li>boundaryGap: 坐标轴两边留白策略 true，这时候刻度只是作为分隔线，标签和数据点都会在两个刻度之间的带(band)中间。</li>
</ul>
</li>
<li><p>yAxis：直角坐标系 grid 中的 y 轴</p>
</li>
<li><p>grid：直角坐标系内绘图网格。 </p>
</li>
<li><p>title：标题组件</p>
</li>
<li><p>tooltip：提示框组件</p>
</li>
<li><p>legend：图例组件</p>
</li>
<li><p>color：调色盘颜色列表</p>
<p>数据堆叠，同个类目轴上系列配置相同的<code>stack</code>值后 后一个系列的值会在前一个系列的值上相加。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    <span class="comment">// color设置我们线条的颜色 注意后面是个数组</span></span><br><span class="line">    color: [<span class="string">'pink'</span>, <span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'skyblue'</span>],</span><br><span class="line">    <span class="comment">// 设置图表的标题</span></span><br><span class="line">    title: &#123;</span><br><span class="line">        text: <span class="string">'折线图堆叠123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 图表的提示框组件 </span></span><br><span class="line">    tooltip: &#123;</span><br><span class="line">        <span class="comment">// 触发方式</span></span><br><span class="line">        trigger: <span class="string">'axis'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 图例组件</span></span><br><span class="line">    legend: &#123;</span><br><span class="line">       <span class="comment">// series里面有了 name值则 legend里面的data可以删掉</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 网格配置  grid可以控制线形图 柱状图 图表大小</span></span><br><span class="line">    grid: &#123;</span><br><span class="line">        left: <span class="string">'3%'</span>,</span><br><span class="line">        right: <span class="string">'4%'</span>,</span><br><span class="line">        bottom: <span class="string">'3%'</span>,</span><br><span class="line">        <span class="comment">// 是否显示刻度标签 如果是true 就显示 否则反之</span></span><br><span class="line">        containLabel: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 工具箱组件  可以另存为图片等功能</span></span><br><span class="line">    toolbox: &#123;</span><br><span class="line">        feature: &#123;</span><br><span class="line">            saveAsImage: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 设置x轴的相关配置</span></span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        type: <span class="string">'category'</span>,</span><br><span class="line">        <span class="comment">// 是否让我们的线条和坐标轴有缝隙</span></span><br><span class="line">        boundaryGap: <span class="literal">false</span>,</span><br><span class="line">        data: [<span class="string">'星期一'</span>, <span class="string">'周二'</span>, <span class="string">'周三'</span>, <span class="string">'周四'</span>, <span class="string">'周五'</span>, <span class="string">'周六'</span>, <span class="string">'周日'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">     <span class="comment">// 设置y轴的相关配置</span></span><br><span class="line">    yAxis: &#123;</span><br><span class="line">        type: <span class="string">'value'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 系列图表配置 它决定着显示那种类型的图表</span></span><br><span class="line">    series: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'邮件营销'</span>,</span><br><span class="line">            type: <span class="string">'line'</span>,</span><br><span class="line">           </span><br><span class="line">            data: [<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'联盟广告'</span>,</span><br><span class="line">            type: <span class="string">'line'</span>,</span><br><span class="line"></span><br><span class="line">            data: [<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'视频广告'</span>,</span><br><span class="line">            type: <span class="string">'line'</span>,</span><br><span class="line">          </span><br><span class="line">            data: [<span class="number">150</span>, <span class="number">232</span>, <span class="number">201</span>, <span class="number">154</span>, <span class="number">190</span>, <span class="number">330</span>, <span class="number">410</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'直接访问'</span>,</span><br><span class="line">            type: <span class="string">'line'</span>,</span><br><span class="line">          </span><br><span class="line">            data: [<span class="number">320</span>, <span class="number">332</span>, <span class="number">301</span>, <span class="number">334</span>, <span class="number">390</span>, <span class="number">330</span>, <span class="number">320</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="项目正式使用"><a href="#项目正式使用" class="headerlink" title="项目正式使用"></a>项目正式使用</h2><ol>
<li><p>使用立即执行函数制作各个表格模块</p>
<p>立即执行函数优点：</p>
<ul>
<li>不必为函数命名，避免了污染全局变量</li>
<li>立即执行函数内部形成了一个单独的作用域，可以封装一些外部无法读取的私有变量</li>
<li>封装变量</li>
</ul>
</li>
<li><p>每个要制作图表的dom容器必须指定长宽</p>
</li>
</ol>
<h2 id="左上柱状图"><a href="#左上柱状图" class="headerlink" title="左上柱状图"></a>左上柱状图</h2><ul>
<li><p>官网找到类似实例， 适当分析，并且引入到HTML页面中</p>
</li>
<li><p>根据需求定制图表</p>
<ol>
<li><p>修改图表柱形颜色</p>
</li>
<li><p>修改图表大小  top 为 10px   bottom 为  4%    grid决定我们的柱状图的大小</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">color: [<span class="string">"#2f89cf"</span>],</span><br><span class="line">     grid: &#123;</span><br><span class="line">       left: <span class="string">"0%"</span>,</span><br><span class="line">       top: <span class="string">"10px"</span>,</span><br><span class="line">       right: <span class="string">"0%"</span>,</span><br><span class="line">       bottom: <span class="string">"4%"</span>,</span><br><span class="line">       containLabel: <span class="literal">true</span> <span class="comment">//是否将文字标注也算进去</span></span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>X轴相关设置  xAxis</p>
<ul>
<li>文本颜色设置为   rgba(255,255,255,.6)   字体大小为 12px</li>
<li>X轴线的样式 不显示</li>
<li>修改data为自己的数据</li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// X轴</span></span><br><span class="line">xAxis: [&#123;</span><br><span class="line">    type: <span class="string">"category"</span>, <span class="comment">//X轴类型</span></span><br><span class="line">    data: [</span><br><span class="line">        <span class="string">"湖北"</span>,</span><br><span class="line">        <span class="string">"广东"</span>,</span><br><span class="line">        <span class="string">"江西"</span>,</span><br><span class="line">        <span class="string">"北京"</span>,</span><br><span class="line">        <span class="string">"上海"</span>,</span><br><span class="line">        <span class="string">"河北"</span>,</span><br><span class="line">        <span class="string">"浙江"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//刻度</span></span><br><span class="line">    axisTick: &#123;</span><br><span class="line">        alignWithLabel: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//刻度标签</span></span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">            fontSize: <span class="string">'12'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//刻度线</span></span><br><span class="line">    axisLine: &#123;</span><br><span class="line">        show: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>Y 轴相关定制</p>
<ul>
<li>文本颜色设置为   rgba(255,255,255,.6)   字体大小为 12px</li>
<li>Y 轴线条样式 更改为  1像素的  rgba(255,255,255,.1) 边框</li>
<li>分隔线的颜色修饰为  1像素的  rgba(255,255,255,.1)  </li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">yAxis: [&#123;</span><br><span class="line">    type: <span class="string">"value"</span>,</span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">            fontSize: <span class="string">'12'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    axisLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">            <span class="comment">// width: 1,</span></span><br><span class="line">            <span class="comment">// type: "solid"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    splitLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>修改柱形为圆角以及柱子宽度  series 里面设置 添加数据</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//图表中心内容</span></span><br><span class="line">series: [&#123;</span><br><span class="line">    name: <span class="string">"直接访问"</span>,</span><br><span class="line">    type: <span class="string">"bar"</span>,</span><br><span class="line">    barWidth: <span class="string">"35%"</span>,</span><br><span class="line">    <span class="comment">// fontSize: '8',</span></span><br><span class="line">    data: [<span class="number">200</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">900</span>, <span class="number">1500</span>, <span class="number">1200</span>, <span class="number">600</span>],</span><br><span class="line">    itemStyle: &#123;</span><br><span class="line">        barBorderRadius: <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>让图表跟随屏幕自适应</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//图表跟随屏幕自适应</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>完整代码</li>
</ol>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左上模块</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//初识化ECharts</span></span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.querySelector(<span class="string">".bar .chart"</span>));</span><br><span class="line">    <span class="comment">//指定配置项和数据</span></span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        color: [<span class="string">"#2f89cf"</span>],</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            trigger: <span class="string">"axis"</span>,</span><br><span class="line">            axisPointer: &#123;</span><br><span class="line">                <span class="comment">// 坐标轴指示器，坐标轴触发有效</span></span><br><span class="line">                type: <span class="string">"shadow"</span> <span class="comment">// 默认为直线，可选为：'line' | 'shadow'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        grid: &#123;</span><br><span class="line">            left: <span class="string">"0%"</span>,</span><br><span class="line">            top: <span class="string">"10px"</span>,</span><br><span class="line">            right: <span class="string">"0%"</span>,</span><br><span class="line">            bottom: <span class="string">"4%"</span>,</span><br><span class="line">            containLabel: <span class="literal">true</span> <span class="comment">//是否将文字标注也算进去</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// X轴</span></span><br><span class="line">        xAxis: [&#123;</span><br><span class="line">            type: <span class="string">"category"</span>, <span class="comment">//X轴类型</span></span><br><span class="line">            data: [</span><br><span class="line">                <span class="string">"湖北"</span>,</span><br><span class="line">                <span class="string">"广东"</span>,</span><br><span class="line">                <span class="string">"江西"</span>,</span><br><span class="line">                <span class="string">"北京"</span>,</span><br><span class="line">                <span class="string">"上海"</span>,</span><br><span class="line">                <span class="string">"河北"</span>,</span><br><span class="line">                <span class="string">"浙江"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="comment">//刻度</span></span><br><span class="line">            axisTick: &#123;</span><br><span class="line">                alignWithLabel: <span class="literal">true</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//刻度标签</span></span><br><span class="line">            axisLabel: &#123;</span><br><span class="line">                textStyle: &#123;</span><br><span class="line">                    color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">                    fontSize: <span class="string">'12'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//刻度线</span></span><br><span class="line">            axisLine: &#123;</span><br><span class="line">                show: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="comment">// y轴</span></span><br><span class="line">        yAxis: [&#123;</span><br><span class="line">            type: <span class="string">"value"</span>,</span><br><span class="line">            axisLabel: &#123;</span><br><span class="line">                textStyle: &#123;</span><br><span class="line">                    color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">                    fontSize: <span class="string">'12'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            axisLine: &#123;</span><br><span class="line">                lineStyle: &#123;</span><br><span class="line">                    color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">                    <span class="comment">// width: 1,</span></span><br><span class="line">                    <span class="comment">// type: "solid"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            splitLine: &#123;</span><br><span class="line">                lineStyle: &#123;</span><br><span class="line">                    color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="comment">//图表中心内容</span></span><br><span class="line">        series: [&#123;</span><br><span class="line">            name: <span class="string">"直接访问"</span>,</span><br><span class="line">            type: <span class="string">"bar"</span>,</span><br><span class="line">            barWidth: <span class="string">"35%"</span>,</span><br><span class="line">            <span class="comment">// fontSize: '8',</span></span><br><span class="line">            data: [<span class="number">200</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">900</span>, <span class="number">1500</span>, <span class="number">1200</span>, <span class="number">600</span>],</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">                barBorderRadius: <span class="number">5</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//配置项设置给ECarts实例对象</span></span><br><span class="line">    myChart.setOption(option);</span><br><span class="line">    <span class="comment">//图表跟随屏幕自适应</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="柱状图2定制"><a href="#柱状图2定制" class="headerlink" title="柱状图2定制"></a>柱状图2定制</h2><ul>
<li>官网找到类似实例， 适当分析，并且引入到HTML页面中</li>
<li>根据需求定制图表</li>
</ul>
<p>需求1： 修改图形大小 grid</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图标位置</span></span><br><span class="line">      grid: &#123;</span><br><span class="line">          top: <span class="string">"10%"</span>,</span><br><span class="line">          left: <span class="string">"22%"</span>,</span><br><span class="line">          bottom: <span class="string">"10%"</span></span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>

<p>需求2： 不显示x轴 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xAxis: &#123;</span><br><span class="line">    show: <span class="literal">false</span> <span class="comment">//取消显示x轴（包括竖线）</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>需求3： y轴相关定制</p>
<ul>
<li><p>不显示y轴轴线和相关刻度</p>
</li>
<li><p>y轴文字的颜色设置为白色</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//y轴</span></span><br><span class="line">yAxis: [&#123;</span><br><span class="line">        show: <span class="literal">true</span>, <span class="comment">//显示y轴</span></span><br><span class="line">        data: titlename, <span class="comment">//类目数据</span></span><br><span class="line">        inverse: <span class="literal">true</span>, <span class="comment">//反向坐标轴</span></span><br><span class="line">        axisLine: &#123; <span class="comment">//坐标轴线</span></span><br><span class="line">            show: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        splitLine: &#123; <span class="comment">//分割线</span></span><br><span class="line">            show: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123; <span class="comment">//坐标轴刻度</span></span><br><span class="line">            show: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;</span><br><span class="line">            color: <span class="string">"#fff"</span>, <span class="comment">//标注字体颜色    </span></span><br><span class="line">            rich: &#123; <span class="comment">//富文本样式</span></span><br><span class="line">                lg: &#123;</span><br><span class="line">                    backgroundColor: <span class="string">"#391"</span>,</span><br><span class="line">                    color: <span class="string">"#fff"</span>,</span><br><span class="line">                    borderRadius: <span class="number">15</span>,</span><br><span class="line">                    <span class="comment">// padding: 5,</span></span><br><span class="line">                    align: <span class="string">"center"</span>,</span><br><span class="line">                    width: <span class="number">15</span>,</span><br><span class="line">                    height: <span class="number">15</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>需求4： </p>
<ul>
<li><p>修改第一组柱子相关样式（条状）</p>
</li>
<li><p>设置第一组柱子内百分比显示数据</p>
</li>
<li><p>设置第一组柱子不同颜色</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">                name: <span class="string">"条"</span>,</span><br><span class="line">                type: <span class="string">"bar"</span>, <span class="comment">//类型</span></span><br><span class="line">                yAxisIndex: <span class="number">0</span>, <span class="comment">//使用的 y 轴的 index，bar的基部位置</span></span><br><span class="line">                data: data,</span><br><span class="line">                barCategoryGap: <span class="number">50</span>,</span><br><span class="line">                barWidth: <span class="number">10</span>, <span class="comment">//bar宽度</span></span><br><span class="line">                itemStyle: &#123; <span class="comment">//图形样式</span></span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        barBorderRadius: <span class="number">20</span>, <span class="comment">//数据条圆角</span></span><br><span class="line">                        <span class="comment">//定义函数分配每个数据值的颜色，不知道%num啥意思</span></span><br><span class="line">                        color: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// var num = myColor.length;</span></span><br><span class="line">                            <span class="comment">// console.log(params);</span></span><br><span class="line">                            <span class="comment">// return myColor[params.dataIndex % num]</span></span><br><span class="line">                            <span class="keyword">return</span> myColor[params.dataIndex]</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                label: &#123; <span class="comment">//标签</span></span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        show: <span class="literal">true</span>,</span><br><span class="line">                        position: <span class="string">"inside"</span>, <span class="comment">//标签位置</span></span><br><span class="line">                        formatter: <span class="string">"&#123;c&#125;%"</span> <span class="comment">//数值</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>

<p>需求5： 修改第二组柱子的相关配置（框状）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    name: <span class="string">"框"</span>,</span><br><span class="line">    type: <span class="string">"bar"</span>,</span><br><span class="line">    yAxisIndex: <span class="number">1</span>,</span><br><span class="line">    barCategoryGap: <span class="number">50</span>,</span><br><span class="line">    data: [<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>],</span><br><span class="line">    barWidth: <span class="number">15</span>,</span><br><span class="line">    itemStyle: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">            color: <span class="string">"none"</span>, <span class="comment">//去掉填充颜色</span></span><br><span class="line">            borderColor: <span class="string">"#00c1de"</span>,</span><br><span class="line">            borderWidth: <span class="number">3</span>, <span class="comment">//边框宽度</span></span><br><span class="line">            barBorderRadius: <span class="number">15</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需求6： 给y轴添加第二组数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义右侧y坐标轴</span></span><br><span class="line">&#123;</span><br><span class="line">    show: <span class="literal">true</span>,</span><br><span class="line">    inverse: <span class="literal">true</span>,</span><br><span class="line">    data: valdata,</span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            fontSize: <span class="number">12</span>,</span><br><span class="line">            color: <span class="string">"#fff"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需求7： 设置两组柱子层叠以及更换数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 给series  第一个对象里面的 添加 </span></span><br><span class="line">yAxisIndex: <span class="number">0</span>,</span><br><span class="line"><span class="comment">// 给series  第二个对象里面的 添加 </span></span><br><span class="line">yAxisIndex: <span class="number">1</span>,</span><br><span class="line"><span class="comment">// series 第一个对象里面的data</span></span><br><span class="line">data: [<span class="number">70</span>, <span class="number">34</span>, <span class="number">60</span>, <span class="number">78</span>, <span class="number">69</span>],</span><br><span class="line"><span class="comment">// series 第二个对象里面的data</span></span><br><span class="line">data: [<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>],</span><br><span class="line"><span class="comment">// y轴更换第一个对象更换data数据</span></span><br><span class="line">data: [<span class="string">"中国"</span>, <span class="string">"美国"</span>, <span class="string">"日本"</span>, <span class="string">"伊朗"</span>, <span class="string">"意大利"</span>],</span><br><span class="line"><span class="comment">// y轴更换第二个对象更换data数据</span></span><br><span class="line">data:[<span class="number">702</span>, <span class="number">350</span>, <span class="number">610</span>, <span class="number">793</span>, <span class="number">664</span>],</span><br></pre></td></tr></table></figure>

<p>完整代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 学习进度柱状图模块</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.querySelector(<span class="string">".bar1 .chart"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> data = [<span class="number">70</span>, <span class="number">34</span>, <span class="number">60</span>, <span class="number">78</span>, <span class="number">69</span>];</span><br><span class="line">    <span class="keyword">var</span> titlename = [<span class="string">"中国"</span>, <span class="string">"美国"</span>, <span class="string">"日本"</span>, <span class="string">"伊朗"</span>, <span class="string">"意大利"</span>];</span><br><span class="line">    <span class="keyword">var</span> valdata = [<span class="number">702</span>, <span class="number">350</span>, <span class="number">610</span>, <span class="number">793</span>, <span class="number">664</span>];</span><br><span class="line">    <span class="keyword">var</span> myColor = [<span class="string">"#1089E7"</span>, <span class="string">"#F57474"</span>, <span class="string">"#56D0E3"</span>, <span class="string">"#F8B448"</span>, <span class="string">"#8B78F6"</span>];</span><br><span class="line">    option = &#123;</span><br><span class="line">        <span class="comment">//图表位置（网格）</span></span><br><span class="line">        grid: &#123;</span><br><span class="line">            top: <span class="string">"10%"</span>,</span><br><span class="line">            left: <span class="string">"22%"</span>,</span><br><span class="line">            bottom: <span class="string">"10%"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//X轴</span></span><br><span class="line">        xAxis: &#123;</span><br><span class="line">            show: <span class="literal">false</span> <span class="comment">//取消显示x轴（包括竖线）</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//y轴</span></span><br><span class="line">        yAxis: [&#123;</span><br><span class="line">                show: <span class="literal">true</span>, <span class="comment">//显示y轴</span></span><br><span class="line">                data: titlename, <span class="comment">//类目数据</span></span><br><span class="line">                inverse: <span class="literal">true</span>, <span class="comment">//反向坐标轴</span></span><br><span class="line">                axisLine: &#123; <span class="comment">//坐标轴线</span></span><br><span class="line">                    show: <span class="literal">false</span></span><br><span class="line">                &#125;,</span><br><span class="line">                splitLine: &#123; <span class="comment">//分割线</span></span><br><span class="line">                    show: <span class="literal">false</span></span><br><span class="line">                &#125;,</span><br><span class="line">                axisTick: &#123; <span class="comment">//坐标轴刻度</span></span><br><span class="line">                    show: <span class="literal">false</span></span><br><span class="line">                &#125;,</span><br><span class="line">                axisLabel: &#123;</span><br><span class="line">                    color: <span class="string">"#fff"</span>, <span class="comment">//标注字体颜色    </span></span><br><span class="line">                    rich: &#123; <span class="comment">//富文本样式</span></span><br><span class="line">                        lg: &#123;</span><br><span class="line">                            backgroundColor: <span class="string">"#391"</span>,</span><br><span class="line">                            color: <span class="string">"#fff"</span>,</span><br><span class="line">                            borderRadius: <span class="number">15</span>,</span><br><span class="line">                            <span class="comment">// padding: 5,</span></span><br><span class="line">                            align: <span class="string">"center"</span>,</span><br><span class="line">                            width: <span class="number">15</span>,</span><br><span class="line">                            height: <span class="number">15</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//定义右侧y坐标轴</span></span><br><span class="line">            &#123;</span><br><span class="line">                show: <span class="literal">true</span>,</span><br><span class="line">                inverse: <span class="literal">true</span>,</span><br><span class="line">                data: valdata,</span><br><span class="line">                axisLabel: &#123;</span><br><span class="line">                    textStyle: &#123;</span><br><span class="line">                        fontSize: <span class="number">12</span>,</span><br><span class="line">                        color: <span class="string">"#fff"</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        series: [&#123;</span><br><span class="line">                name: <span class="string">"条"</span>,</span><br><span class="line">                type: <span class="string">"bar"</span>, <span class="comment">//类型</span></span><br><span class="line">                yAxisIndex: <span class="number">0</span>, <span class="comment">//使用的 y 轴的 index，bar的基部位置</span></span><br><span class="line">                data: data,</span><br><span class="line">                barCategoryGap: <span class="number">50</span>,</span><br><span class="line">                barWidth: <span class="number">10</span>, <span class="comment">//bar宽度</span></span><br><span class="line">                itemStyle: &#123; <span class="comment">//图形样式</span></span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        barBorderRadius: <span class="number">20</span>, <span class="comment">//数据条圆角</span></span><br><span class="line">                        <span class="comment">//定义函数分配每个数据值的颜色，不知道%num啥意思</span></span><br><span class="line">                        color: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// var num = myColor.length;</span></span><br><span class="line">                            <span class="comment">// console.log(params);</span></span><br><span class="line">                            <span class="comment">// return myColor[params.dataIndex % num]</span></span><br><span class="line">                            <span class="keyword">return</span> myColor[params.dataIndex]</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                label: &#123; <span class="comment">//标签</span></span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        show: <span class="literal">true</span>,</span><br><span class="line">                        position: <span class="string">"inside"</span>, <span class="comment">//标签位置</span></span><br><span class="line">                        formatter: <span class="string">"&#123;c&#125;%"</span> <span class="comment">//数值</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//第二个图形</span></span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">"框"</span>,</span><br><span class="line">                type: <span class="string">"bar"</span>,</span><br><span class="line">                yAxisIndex: <span class="number">1</span>,</span><br><span class="line">                barCategoryGap: <span class="number">50</span>,</span><br><span class="line">                data: [<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>],</span><br><span class="line">                barWidth: <span class="number">15</span>,</span><br><span class="line">                itemStyle: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        color: <span class="string">"none"</span>, <span class="comment">//去掉填充颜色</span></span><br><span class="line">                        borderColor: <span class="string">"#00c1de"</span>,</span><br><span class="line">                        borderWidth: <span class="number">3</span>, <span class="comment">//边框宽度</span></span><br><span class="line">                        barBorderRadius: <span class="number">15</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">    myChart.setOption(option);</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="折线图1-模块"><a href="#折线图1-模块" class="headerlink" title="折线图1 模块"></a>折线图1 模块</h2><ul>
<li>官网找到类似实例， 适当分析，并且引入到HTML页面中</li>
<li>根据需求定制图表</li>
</ul>
<p>需求1： 修改折线图大小，显示边框设置颜色：#012f4a，并且显示刻度标签。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">grid: &#123;</span><br><span class="line">    top: <span class="string">"20%"</span>,</span><br><span class="line">    left: <span class="string">"3%"</span>,</span><br><span class="line">    right: <span class="string">"4%"</span>,</span><br><span class="line">    bottom: <span class="string">"3%"</span>,</span><br><span class="line">    show: <span class="literal">true</span>,</span><br><span class="line">    borderColor: <span class="string">"#012f4a"</span>,</span><br><span class="line">    containLabel: <span class="literal">true</span> <span class="comment">//包含刻度</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>需求2： 修改图例组件中的文字颜色 #4c9bfd， 距离右侧 right 为 10%</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//图例模块</span></span><br><span class="line">legend: &#123;</span><br><span class="line">    <span class="comment">// 距离容器10%</span></span><br><span class="line">    right: <span class="string">"10%"</span>,</span><br><span class="line">    <span class="comment">// 修饰图例文字的颜色</span></span><br><span class="line">    textStyle: &#123;</span><br><span class="line">        color: <span class="string">"#4c9bfd"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果series 里面设置了name，此时图例组件的data可以省略</span></span><br><span class="line">    <span class="comment">// data: ["邮件营销", "联盟广告"]</span></span><br></pre></td></tr></table></figure>

<p>需求3： x轴相关配置</p>
<ul>
<li>刻度去除</li>
<li>x轴刻度标签字体颜色：#4c9bfd</li>
<li>剔除x坐标轴线颜色（将来使用Y轴分割线)</li>
<li>轴两端是不需要内间距 boundaryGap</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">xAxis: &#123;</span><br><span class="line">    type: <span class="string">'category'</span>,</span><br><span class="line">    boundaryGap: <span class="literal">false</span>,</span><br><span class="line">    data: [<span class="string">'1月'</span>, <span class="string">'2月'</span>, <span class="string">'3月'</span>, <span class="string">'4月'</span>, <span class="string">'5月'</span>, <span class="string">'6月'</span>, <span class="string">'7月'</span>, <span class="string">'8月'</span>, <span class="string">'9月'</span>, <span class="string">'10月'</span>, <span class="string">'11月'</span>, <span class="string">'12月'</span>],</span><br><span class="line">    <span class="comment">//去除刻度</span></span><br><span class="line">    axisTick: &#123;</span><br><span class="line">        show: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//修改刻度标签颜色</span></span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        color: <span class="string">"white"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//去除x坐标轴</span></span><br><span class="line">    axisLine: &#123;</span><br><span class="line">        show: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    boundaryGap: <span class="literal">false</span> <span class="comment">// 去除轴内间距</span></span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>需求4： y轴的定制</p>
<ul>
<li>刻度去除</li>
<li>字体颜色：#4c9bfd</li>
<li>分割线颜色：#012f4a</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">yAxis: &#123;</span><br><span class="line">    type: <span class="string">'value'</span>,</span><br><span class="line">    <span class="comment">//去除y轴刻度</span></span><br><span class="line">    axisTick: &#123;</span><br><span class="line">        show: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//修改刻度标签颜色</span></span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        color: <span class="string">"white"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//修改y轴分割线颜色</span></span><br><span class="line">    splitLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            color: <span class="string">"#012f4a"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>需求5： 两条线形图定制</p>
<ul>
<li>颜色分别：#00f2f1  #ed3f35</li>
<li>把折线修饰为圆滑 series 数据中添加 smooth 为 true</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">series: [&#123;</span><br><span class="line">        name: <span class="string">'现存确诊'</span>,</span><br><span class="line">        type: <span class="string">'line'</span>,</span><br><span class="line">        stack: <span class="string">'总量'</span>,</span><br><span class="line">        data: [<span class="number">24</span>, <span class="number">40</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">230</span>, <span class="number">120</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">120</span>],</span><br><span class="line">        smooth: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'累计确诊'</span>,</span><br><span class="line">        type: <span class="string">'line'</span>,</span><br><span class="line">        stack: <span class="string">'总量'</span>,</span><br><span class="line">        data: [<span class="number">40</span>, <span class="number">64</span>, <span class="number">191</span>, <span class="number">324</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>, <span class="number">213</span>, <span class="number">180</span>, <span class="number">200</span>, <span class="number">180</span>, <span class="number">79</span>],</span><br><span class="line">        smooth: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>需求6： 配置数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x轴的文字</span></span><br><span class="line">xAxis: &#123;</span><br><span class="line">  type: <span class="string">'category'</span>,</span><br><span class="line">  data: [<span class="string">'1月'</span>, <span class="string">'2月'</span>, <span class="string">'3月'</span>, <span class="string">'4月'</span>, <span class="string">'5月'</span>, <span class="string">'6月'</span>, <span class="string">'7月'</span>, <span class="string">'8月'</span>, <span class="string">'9月'</span>, <span class="string">'10月'</span>, <span class="string">'11月'</span>, <span class="string">'12月'</span>],</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图表数据</span></span><br><span class="line">        series: [&#123;</span><br><span class="line">                name: <span class="string">'现存确诊'</span>,</span><br><span class="line">                type: <span class="string">'line'</span>,</span><br><span class="line">                stack: <span class="string">'总量'</span>,</span><br><span class="line">                data: [<span class="number">24</span>, <span class="number">40</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">230</span>, <span class="number">120</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">120</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">'累计确诊'</span>,</span><br><span class="line">                type: <span class="string">'line'</span>,</span><br><span class="line">                stack: <span class="string">'总量'</span>,</span><br><span class="line">                data: [<span class="number">40</span>, <span class="number">64</span>, <span class="number">191</span>, <span class="number">324</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>, <span class="number">213</span>, <span class="number">180</span>, <span class="number">200</span>, <span class="number">180</span>, <span class="number">79</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br></pre></td></tr></table></figure>

<p>需求7： 新增需求  点击 2020年   2021年 数据发生变化</p>
<p>以下是后台送过来数据（ajax请求过来的）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yearData = [</span><br><span class="line">     &#123;</span><br><span class="line">       year: <span class="string">'2020'</span>,  <span class="comment">// 年份</span></span><br><span class="line">       data: [  <span class="comment">// 两个数组是因为有两条线</span></span><br><span class="line">            [<span class="number">24</span>, <span class="number">40</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">230</span>, <span class="number">120</span>, <span class="number">230</span>, <span class="number">210</span>, <span class="number">120</span>],</span><br><span class="line">            [<span class="number">40</span>, <span class="number">64</span>, <span class="number">191</span>, <span class="number">324</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>, <span class="number">213</span>, <span class="number">180</span>, <span class="number">200</span>, <span class="number">180</span>, <span class="number">79</span>]</span><br><span class="line">         ]</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       year: <span class="string">'2021'</span>,  <span class="comment">// 年份</span></span><br><span class="line">       data: [  <span class="comment">// 两个数组是因为有两条线</span></span><br><span class="line">            [<span class="number">123</span>, <span class="number">175</span>, <span class="number">112</span>, <span class="number">197</span>, <span class="number">121</span>, <span class="number">67</span>, <span class="number">98</span>, <span class="number">21</span>, <span class="number">43</span>, <span class="number">64</span>, <span class="number">76</span>, <span class="number">38</span>],</span><br><span class="line">    		[<span class="number">143</span>, <span class="number">131</span>, <span class="number">165</span>, <span class="number">123</span>, <span class="number">178</span>, <span class="number">21</span>, <span class="number">82</span>, <span class="number">64</span>, <span class="number">43</span>, <span class="number">60</span>, <span class="number">19</span>, <span class="number">34</span>]</span><br><span class="line">         ]</span><br><span class="line">     &#125;</span><br><span class="line">    ];</span><br></pre></td></tr></table></figure>

<ul>
<li>tab栏切换事件</li>
<li>点击2020按钮   需要把 series 第一个对象里面的data  换成  2020年对象里面data[0] </li>
<li>点击2020按钮   需要把 series 第二个对象里面的data  换成  2020年对象里面data[1] </li>
<li>2021 按钮同样道理</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.点击切换效果</span></span><br><span class="line">$(<span class="string">".line h2"</span>).on(<span class="string">"click"</span>, <span class="string">"a"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// alert(1);</span></span><br><span class="line">  <span class="comment">// console.log($(this).index());</span></span><br><span class="line">  <span class="comment">// 点击 a 之后 根据当前a的索引号 找到对应的 yearData的相关对象</span></span><br><span class="line">  <span class="comment">// console.log(yearData[$(this).index()]);</span></span><br><span class="line">  <span class="keyword">var</span> obj = yearData[$(<span class="keyword">this</span>).index()];</span><br><span class="line">  option.series[<span class="number">0</span>].data = obj.data[<span class="number">0</span>];</span><br><span class="line">  option.series[<span class="number">1</span>].data = obj.data[<span class="number">1</span>];</span><br><span class="line">  <span class="comment">// 需要重新渲染</span></span><br><span class="line">  myChart.setOption(option);</span><br></pre></td></tr></table></figure>

<p>完整代码（这里去掉年份需求）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//折线图模块</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.querySelector(<span class="string">'.line .chart'</span>))</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        color: [<span class="string">"#00f2f1"</span>, <span class="string">"#ed3f35"</span>],</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            trigger: <span class="string">'axis'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//图例模块</span></span><br><span class="line">        legend: &#123;</span><br><span class="line">            <span class="comment">// 距离容器10%</span></span><br><span class="line">            right: <span class="string">"10%"</span>,</span><br><span class="line">            <span class="comment">// 修饰图例文字的颜色</span></span><br><span class="line">            textStyle: &#123;</span><br><span class="line">                color: <span class="string">"#4c9bfd"</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 如果series 里面设置了name，此时图例组件的data可以省略</span></span><br><span class="line">            <span class="comment">// data: ["邮件营销", "联盟广告"]</span></span><br><span class="line">        &#125;,</span><br><span class="line">        grid: &#123;</span><br><span class="line">            top: <span class="string">"20%"</span>,</span><br><span class="line">            left: <span class="string">"3%"</span>,</span><br><span class="line">            right: <span class="string">"4%"</span>,</span><br><span class="line">            bottom: <span class="string">"3%"</span>,</span><br><span class="line">            show: <span class="literal">true</span>,</span><br><span class="line">            borderColor: <span class="string">"#012f4a"</span>,</span><br><span class="line">            containLabel: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">            type: <span class="string">'category'</span>,</span><br><span class="line">            boundaryGap: <span class="literal">false</span>,</span><br><span class="line">            data: [<span class="string">'周一'</span>, <span class="string">'周二'</span>, <span class="string">'周三'</span>, <span class="string">'周四'</span>, <span class="string">'周五'</span>, <span class="string">'周六'</span>, <span class="string">'周日'</span>],</span><br><span class="line">            <span class="comment">//去除刻度</span></span><br><span class="line">            axisTick: &#123;</span><br><span class="line">                show: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//修改刻度标签颜色</span></span><br><span class="line">            axisLabel: &#123;</span><br><span class="line">                color: <span class="string">"white"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//去除x坐标轴</span></span><br><span class="line">            axisLine: &#123;</span><br><span class="line">                show: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;</span><br><span class="line">            type: <span class="string">'value'</span>,</span><br><span class="line">            <span class="comment">//去除y轴刻度</span></span><br><span class="line">            axisTick: &#123;</span><br><span class="line">                show: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//修改刻度标签颜色</span></span><br><span class="line">            axisLabel: &#123;</span><br><span class="line">                color: <span class="string">"white"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//修改y轴分割线颜色</span></span><br><span class="line">            splitLine: &#123;</span><br><span class="line">                lineStyle:&#123;</span><br><span class="line">                    color: <span class="string">"#012f4a"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">                name: <span class="string">'现存确诊'</span>,</span><br><span class="line">                type: <span class="string">'line'</span>,</span><br><span class="line">                stack: <span class="string">'总量'</span>,</span><br><span class="line">                data: [<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">'累计确诊'</span>,</span><br><span class="line">                type: <span class="string">'line'</span>,</span><br><span class="line">                stack: <span class="string">'总量'</span>,</span><br><span class="line">                data: [<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 把配置和数据给实例对象</span></span><br><span class="line">    myChart.setOption(option);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<h2 id="折线图2模块"><a href="#折线图2模块" class="headerlink" title="折线图2模块"></a>折线图2模块</h2><ol>
<li>引入类似的官方示例</li>
<li>进行样式定制</li>
</ol>
<p>更换图例组件文字颜色 rgba(255,255,255,.5)  文字大小为12</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">legend: &#123;</span><br><span class="line">    top: <span class="string">"0%"</span>,</span><br><span class="line">    <span class="comment">//图例字体样式</span></span><br><span class="line">    textStyle: &#123;</span><br><span class="line">        color: <span class="string">"rgba(255,255,255,.5)"</span>,</span><br><span class="line">        fontSize: <span class="string">"12"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p> 修改图表大小</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">grid: &#123;</span><br><span class="line">      left: <span class="string">"10"</span>,</span><br><span class="line">      top: <span class="string">"30"</span>,</span><br><span class="line">      right: <span class="string">"10"</span>,</span><br><span class="line">      bottom: <span class="string">"10"</span>,</span><br><span class="line">      containLabel: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p> 修改x轴相关配置</p>
<ul>
<li>修改文本颜色为rgba(255,255,255,.6)  文字大小为 12</li>
<li>x轴线的颜色为   rgba(255,255,255,.2)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文本颜色为rgba(255,255,255,.6)  文字大小为 12</span></span><br><span class="line">axisLabel: &#123;</span><br><span class="line">     textStyle: &#123;</span><br><span class="line">       color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">       fontSize: <span class="number">12</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">    <span class="comment">// x轴线的颜色为   rgba(255,255,255,.2)</span></span><br><span class="line">   axisLine: &#123;</span><br><span class="line">     lineStyle: &#123;</span><br><span class="line">       color: <span class="string">"rgba(255,255,255,.2)"</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>

<p>修改y轴的相关配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">yAxis: [&#123;</span><br><span class="line">    type: <span class="string">'value'</span>,</span><br><span class="line">    <span class="comment">//隐藏坐标轴刻度</span></span><br><span class="line">    axisTick: &#123; <span class="attr">show</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    <span class="comment">//标注y轴线样式</span></span><br><span class="line">    axisLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//标注文本</span></span><br><span class="line">    axisLabel: &#123;</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.6)"</span>,</span><br><span class="line">            fontSize: <span class="number">12</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 修改分割线的颜色</span></span><br><span class="line">    splitLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            color: <span class="string">"rgba(255,255,255,.1)"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>

<p>修改两个线模块配置(注意在series 里面定制)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">series: [&#123;</span><br><span class="line">               name: <span class="string">'新增确诊'</span>,</span><br><span class="line">               type: <span class="string">'line'</span>,</span><br><span class="line">               <span class="comment">// stack: '总量', //数据堆叠</span></span><br><span class="line">               data: [<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>],</span><br><span class="line">               <span class="comment">//线圆滑</span></span><br><span class="line">               smooth: <span class="literal">true</span>,</span><br><span class="line">               <span class="comment">// 单独修改线的样式</span></span><br><span class="line">               lineStyle: &#123;</span><br><span class="line">                   color: <span class="string">"#0184d5"</span>,</span><br><span class="line">                   width: <span class="number">2</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="comment">// 填充区域</span></span><br><span class="line">               areaStyle: &#123;</span><br><span class="line">                   <span class="comment">// 渐变色</span></span><br><span class="line">                   color: <span class="keyword">new</span> echarts.graphic.LinearGradient(</span><br><span class="line">                       <span class="number">0</span>,</span><br><span class="line">                       <span class="number">0</span>,</span><br><span class="line">                       <span class="number">0</span>,</span><br><span class="line">                       <span class="number">1</span>,</span><br><span class="line">                       [&#123;</span><br><span class="line">                               offset: <span class="number">0</span>,</span><br><span class="line">                               color: <span class="string">"rgba(1, 132, 213, 0.4)"</span> <span class="comment">// 渐变色的起始颜色</span></span><br><span class="line">                           &#125;,</span><br><span class="line">                           &#123;</span><br><span class="line">                               offset: <span class="number">0.8</span>,</span><br><span class="line">                               color: <span class="string">"rgba(1, 132, 213, 0.1)"</span> <span class="comment">// 渐变线的结束颜色</span></span><br><span class="line">                           &#125;</span><br><span class="line">                       ],</span><br><span class="line">                       <span class="literal">false</span></span><br><span class="line">                   ),</span><br><span class="line">                   shadowColor: <span class="string">"rgba(0, 0, 0, 0.1)"</span> <span class="comment">//阴影颜色</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="comment">// 设置拐点 小圆点</span></span><br><span class="line">               symbol: <span class="string">"circle"</span>,</span><br><span class="line">               <span class="comment">// 拐点大小</span></span><br><span class="line">               symbolSize: <span class="number">8</span>,</span><br><span class="line">               <span class="comment">// 设置拐点颜色以及边框</span></span><br><span class="line">               itemStyle: &#123;</span><br><span class="line">                   color: <span class="string">"#0184d5"</span>,</span><br><span class="line">                   borderColor: <span class="string">"rgba(221, 220, 107, .1)"</span>,</span><br><span class="line">                   borderWidth: <span class="number">12</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="comment">//开始不显示坐标圆点</span></span><br><span class="line">               showSymbol: <span class="literal">false</span>,</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="comment">// 开始不显示拐点， 鼠标经过显示</span></span><br><span class="line">               showSymbol: <span class="literal">false</span>,</span><br><span class="line">               name: <span class="string">"新增死亡"</span>,</span><br><span class="line">               type: <span class="string">"line"</span>,</span><br><span class="line">               smooth: <span class="literal">true</span>,</span><br><span class="line">               lineStyle: &#123;</span><br><span class="line">                   normal: &#123;</span><br><span class="line">                       color: <span class="string">"#00d887"</span>,</span><br><span class="line">                       width: <span class="number">2</span></span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;,</span><br><span class="line">               areaStyle: &#123;</span><br><span class="line">                   normal: &#123;</span><br><span class="line">                       color: <span class="keyword">new</span> echarts.graphic.LinearGradient(</span><br><span class="line">                           <span class="number">0</span>,</span><br><span class="line">                           <span class="number">0</span>,</span><br><span class="line">                           <span class="number">0</span>,</span><br><span class="line">                           <span class="number">1</span>,</span><br><span class="line">                           [&#123;</span><br><span class="line">                                   offset: <span class="number">0</span>,</span><br><span class="line">                                   color: <span class="string">"rgba(0, 216, 135, 0.4)"</span></span><br><span class="line">                               &#125;,</span><br><span class="line">                               &#123;</span><br><span class="line">                                   offset: <span class="number">0.8</span>,</span><br><span class="line">                                   color: <span class="string">"rgba(0, 216, 135, 0.1)"</span></span><br><span class="line">                               &#125;</span><br><span class="line">                           ],</span><br><span class="line">                           <span class="literal">false</span></span><br><span class="line">                       ),</span><br><span class="line">                       shadowColor: <span class="string">"rgba(0, 0, 0, 0.1)"</span></span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="comment">// 设置拐点 小圆点</span></span><br><span class="line">               symbol: <span class="string">"circle"</span>,</span><br><span class="line">               <span class="comment">// 拐点大小</span></span><br><span class="line">               symbolSize: <span class="number">5</span>,</span><br><span class="line">               <span class="comment">// 设置拐点颜色以及边框</span></span><br><span class="line">               itemStyle: &#123;</span><br><span class="line">                   color: <span class="string">"#00d887"</span>,</span><br><span class="line">                   borderColor: <span class="string">"rgba(221, 220, 107, .1)"</span>,</span><br><span class="line">                   borderWidth: <span class="number">12</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="comment">// 开始不显示拐点， 鼠标经过显示</span></span><br><span class="line">               showSymbol: <span class="literal">false</span>,</span><br><span class="line">               data: [<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">90</span>, <span class="number">230</span>, <span class="number">210</span>],</span><br><span class="line">               <span class="comment">// stack: '总量',</span></span><br><span class="line">           &#125;</span><br><span class="line">       ]</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>更换数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">没有</span><br></pre></td></tr></table></figure>

<h2 id="饼形图1模块"><a href="#饼形图1模块" class="headerlink" title="饼形图1模块"></a>饼形图1模块</h2><ul>
<li>官网找到类似实例， 适当分析，并且引入到HTML页面中</li>
<li>根据需求定制图表</li>
</ul>
<p>定制图表需求1： </p>
<ul>
<li>修改图例组件在底部并且居中显示。 </li>
<li>每个小图标的宽度和高度修改为 10px   </li>
<li>文字大小为12 颜色  rgba(255,255,255,.5)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">legend: &#123;</span><br><span class="line">    <span class="comment">// 距离底部为0%</span></span><br><span class="line">    bottom: <span class="string">"0%"</span>,</span><br><span class="line">    <span class="comment">// 小图标的宽度和高度</span></span><br><span class="line">    itemWidth: <span class="number">10</span>,</span><br><span class="line">    itemHeight: <span class="number">10</span>,</span><br><span class="line">    <span class="comment">// 修改图例组件的文字为 12px</span></span><br><span class="line">    textStyle: &#123;</span><br><span class="line">        color: <span class="string">"rgba(255,255,255,.5)"</span>,</span><br><span class="line">        fontSize: <span class="string">"12"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>定制需求2：</p>
<ul>
<li>修改水平居中 垂直居中</li>
<li>修改内圆半径和外圆半径为    [“40%”, “60%”]   pink老师友情提示，带有直角坐标系的比如折线图柱状图是 grid修改图形大小，而我们饼形图是通过 radius 修改大小</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">series: [&#123;</span><br><span class="line">    name: <span class="string">'确诊病例'</span>,</span><br><span class="line">    type: <span class="string">'pie'</span>,</span><br><span class="line">    <span class="comment">//设置饼状图在容器中的位置，这里和带有坐标系的图不一样</span></span><br><span class="line">    center: [<span class="string">"50%"</span>, <span class="string">"50%"</span>],</span><br><span class="line">    <span class="comment">//  修改内圆半径和外圆半径为  百分比是相对于容器宽度来说的</span></span><br><span class="line">    radius: [<span class="string">"40%"</span>, <span class="string">"60%"</span>],</span><br><span class="line">    avoidLabelOverlap: <span class="literal">false</span>,</span><br><span class="line">    label: &#123;</span><br><span class="line">        show: <span class="literal">false</span>,</span><br><span class="line">        position: <span class="string">'center'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    emphasis: &#123;</span><br><span class="line">        label: &#123;</span><br><span class="line">            <span class="comment">// show: true,</span></span><br><span class="line">            fontSize: <span class="string">'30'</span>,</span><br><span class="line">            fontWeight: <span class="string">'bold'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//不显示连接线</span></span><br><span class="line">    labelLine: &#123;</span><br><span class="line">        show: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    data: [</span><br><span class="line">        &#123; <span class="attr">value</span>: <span class="number">335</span>, <span class="attr">name</span>: <span class="string">'广东'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">value</span>: <span class="number">310</span>, <span class="attr">name</span>: <span class="string">'武汉'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">value</span>: <span class="number">234</span>, <span class="attr">name</span>: <span class="string">'北京'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">value</span>: <span class="number">135</span>, <span class="attr">name</span>: <span class="string">'浙江'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">value</span>: <span class="number">1548</span>, <span class="attr">name</span>: <span class="string">'江苏'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>更换颜色</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">color: [</span><br><span class="line">    <span class="string">"#065aab"</span>,</span><br><span class="line">    <span class="string">"#066eab"</span>,</span><br><span class="line">    <span class="string">"#0682ab"</span>,</span><br><span class="line">    <span class="string">"#0696ab"</span>,</span><br><span class="line">    <span class="string">"#06a0ab"</span>,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>完整代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.querySelector(<span class="string">".pie .chart"</span>));</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        color: [</span><br><span class="line">            <span class="string">"#065aab"</span>,</span><br><span class="line">            <span class="string">"#066eab"</span>,</span><br><span class="line">            <span class="string">"#0682ab"</span>,</span><br><span class="line">            <span class="string">"#0696ab"</span>,</span><br><span class="line">            <span class="string">"#06a0ab"</span>,</span><br><span class="line">        ],</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            trigger: <span class="string">'item'</span>,</span><br><span class="line">            formatter: <span class="string">'&#123;a&#125; &lt;br/&gt;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">            <span class="comment">// 距离底部为0%</span></span><br><span class="line">            bottom: <span class="string">"0%"</span>,</span><br><span class="line">            <span class="comment">// 小图标的宽度和高度</span></span><br><span class="line">            itemWidth: <span class="number">10</span>,</span><br><span class="line">            itemHeight: <span class="number">10</span>,</span><br><span class="line">            <span class="comment">// 修改图例组件的文字为 12px</span></span><br><span class="line">            textStyle: &#123;</span><br><span class="line">                color: <span class="string">"rgba(255,255,255,.5)"</span>,</span><br><span class="line">                fontSize: <span class="string">"12"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            name: <span class="string">'确诊病例'</span>,</span><br><span class="line">            type: <span class="string">'pie'</span>,</span><br><span class="line">            <span class="comment">//设置饼状图在容器中的位置，这里和带有坐标系的图不一样</span></span><br><span class="line">            center: [<span class="string">"50%"</span>, <span class="string">"50%"</span>],</span><br><span class="line">            <span class="comment">//  修改内圆半径和外圆半径为  百分比是相对于容器宽度来说的</span></span><br><span class="line">            radius: [<span class="string">"40%"</span>, <span class="string">"60%"</span>],</span><br><span class="line">            avoidLabelOverlap: <span class="literal">false</span>,</span><br><span class="line">            label: &#123;</span><br><span class="line">                show: <span class="literal">false</span>,</span><br><span class="line">                position: <span class="string">'center'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            emphasis: &#123;</span><br><span class="line">                label: &#123;</span><br><span class="line">                    <span class="comment">// show: true,</span></span><br><span class="line">                    fontSize: <span class="string">'30'</span>,</span><br><span class="line">                    fontWeight: <span class="string">'bold'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//不显示连接线</span></span><br><span class="line">            labelLine: &#123;</span><br><span class="line">                show: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            data: [</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">335</span>, <span class="attr">name</span>: <span class="string">'广东'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">310</span>, <span class="attr">name</span>: <span class="string">'武汉'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">234</span>, <span class="attr">name</span>: <span class="string">'北京'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">135</span>, <span class="attr">name</span>: <span class="string">'浙江'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">1548</span>, <span class="attr">name</span>: <span class="string">'江苏'</span> &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line">    myChart.setOption(option);</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="饼形图（南丁格尔玫瑰图）"><a href="#饼形图（南丁格尔玫瑰图）" class="headerlink" title="饼形图（南丁格尔玫瑰图）"></a>饼形图（南丁格尔玫瑰图）</h2><ul>
<li>官网找到类似实例， 适当分析，并且引入到HTML页面中</li>
<li>根据需求定制图表</li>
</ul>
<p>完整代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.querySelector(<span class="string">".pie1 .chart"</span>))</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        color: [<span class="string">'#006cff'</span>, <span class="string">'#60cda0'</span>, <span class="string">'#ed8884'</span>, <span class="string">'#ff9f7f'</span>, <span class="string">'#0096ff'</span>, <span class="string">'#9fe6b8'</span>, <span class="string">'#32c5e9'</span>, <span class="string">'#1d9dff'</span>],</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            trigger: <span class="string">'item'</span>,</span><br><span class="line">            formatter: <span class="string">'&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">            left: <span class="string">'center'</span>,</span><br><span class="line">            top: <span class="string">'bottom'</span>,</span><br><span class="line">            data: [<span class="string">'rose1'</span>, <span class="string">'rose2'</span>, <span class="string">'rose3'</span>, <span class="string">'rose4'</span>, <span class="string">'rose5'</span>, <span class="string">'rose6'</span>, <span class="string">'rose7'</span>, <span class="string">'rose8'</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            name: <span class="string">'面积模式'</span>,</span><br><span class="line">            type: <span class="string">'pie'</span>,</span><br><span class="line">            <span class="comment">//饼图大小</span></span><br><span class="line">            radius: [<span class="string">'10%'</span>, <span class="string">'70%'</span>],</span><br><span class="line">            center: [<span class="string">'50%'</span>, <span class="string">'50%'</span>],</span><br><span class="line">            <span class="comment">//饼图显示模式area面积模式radius半径模式</span></span><br><span class="line">            roseType: <span class="string">'radius'</span>,</span><br><span class="line">            <span class="comment">// 文本标签控制饼形图文字的相关样式</span></span><br><span class="line">            label: &#123;</span><br><span class="line">                fontSize: <span class="number">10</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 引导线调整</span></span><br><span class="line">            labelLine: &#123;</span><br><span class="line">                <span class="comment">// 连接扇形图线长</span></span><br><span class="line">                length: <span class="number">6</span>,</span><br><span class="line">                <span class="comment">// 连接文字线长</span></span><br><span class="line">                length2: <span class="number">8</span></span><br><span class="line">            &#125;,</span><br><span class="line">            data: [</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">10</span>, <span class="attr">name</span>: <span class="string">'广东'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">5</span>, <span class="attr">name</span>: <span class="string">'北京'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">15</span>, <span class="attr">name</span>: <span class="string">'武汉'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">25</span>, <span class="attr">name</span>: <span class="string">'浙江'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">20</span>, <span class="attr">name</span>: <span class="string">'上海'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">35</span>, <span class="attr">name</span>: <span class="string">'江苏'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">30</span>, <span class="attr">name</span>: <span class="string">'云南'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="number">40</span>, <span class="attr">name</span>: <span class="string">'河北'</span> &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    myChart.setOption(option)</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        myChart.resize()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h1 id="载入arcgis-server-的地图服务"><a href="#载入arcgis-server-的地图服务" class="headerlink" title="载入arcgis server 的地图服务"></a>载入arcgis server 的地图服务</h1><p>详细的教程可去官网： <a href="https://developers.arcgis.com/javascript/" target="_blank" rel="noopener">ArcGIS API for JavaScript</a></p>
<ol>
<li><p><code>require</code>请求将所需模块加载进去，这里因为想调用<a href="http://www.arcgisonline.cn/" target="_blank" rel="noopener">arcgis online</a> 中的某个地图，经查阅资料得出，通过调用该id号获取其底图（在调用arcgis online的底图时需要登录才能查看该id，详情可以看该<a href="https://jingyan.baidu.com/article/60ccbceb4cc70864cbb1974f.html" target="_blank" rel="noopener">教程</a>），所以需要用到<code>WebMap</code>模块。require以及底图加载代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([</span><br><span class="line">    <span class="comment">//require写什么，后面参数必须按require的顺序写</span></span><br><span class="line">    <span class="string">"esri/WebMap"</span>,</span><br><span class="line">    <span class="string">"esri/views/MapView"</span>, <span class="comment">//地图查看器模块</span></span><br><span class="line">    <span class="string">"esri/layers/FeatureLayer"</span>, <span class="comment">//要素图层</span></span><br><span class="line">    <span class="string">"esri/layers/TileLayer"</span></span><br><span class="line">], <span class="function"><span class="keyword">function</span>(<span class="params">WebMap, MapView, FeatureLayer, TileLayer</span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//基础底图</span></span><br><span class="line">    <span class="comment">// var map = new Map(&#123;</span></span><br><span class="line">    <span class="comment">//     basemap: "streets-night-vector" //底图样式</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line">   </span><br><span class="line">    <span class="comment">//id号获取底图</span></span><br><span class="line">    <span class="keyword">var</span> map = <span class="keyword">new</span> WebMap(&#123;</span><br><span class="line">        portalItem: &#123;</span><br><span class="line">            id: <span class="string">"bf024b8d0b4b48f5a486070214e87c5f"</span> <span class="comment">//ArcGIS Online</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> view = <span class="keyword">new</span> MapView(&#123;</span><br><span class="line">        container: <span class="string">"viewDiv"</span>,</span><br><span class="line">        map: map,</span><br><span class="line">        center: [<span class="number">116.26</span>, <span class="number">24.2</span>], <span class="comment">// longitude, latitude 地理坐标</span></span><br><span class="line">        zoom: <span class="number">3</span> <span class="comment">//缩放程度s</span></span><br><span class="line">    &#125;);</span><br><span class="line">   </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过调用在arcgis server发布的地图服务url，将要显示的要素图层加载进去，然后在本地就可以浏览echarts和arcgis server结合的简单案例啦，调用url代码在回调函数中，如下所示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加Traiheads要素图层</span></span><br><span class="line"><span class="keyword">var</span> china = <span class="keyword">new</span> FeatureLayer(&#123;</span><br><span class="line">    url: <span class="string">"http://localhost:6080/arcgis/rest/services/Text/text/MapServer"</span>, <span class="comment">//url:....../1:行政区图层索引号</span></span><br><span class="line">    <span class="comment">//数组存放标题和内容</span></span><br><span class="line">    outFields: [<span class="string">"Name"</span>, <span class="string">"性别比"</span>],</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//显示路径名称和弹出窗口的字段</span></span><br><span class="line">    popupTemplate: &#123; <span class="comment">// 启动弹出模板</span></span><br><span class="line">        <span class="string">"title"</span>: <span class="string">"&#123;Name&#125;"</span>, <span class="comment">// 标题名</span></span><br><span class="line">        <span class="string">"content"</span>: <span class="string">"&lt;p&gt;该省性别比为&lt;/p&gt; &lt;p&gt;&#123;性别比&#125;。&lt;/p&gt;"</span> <span class="comment">// 弹出框文本内容</span></span><br><span class="line">    &#125;,</span><br><span class="line">    opacity: <span class="number">.4</span> <span class="comment">//透明程度</span></span><br><span class="line">&#125;);</span><br><span class="line">map.add(china);</span><br></pre></td></tr></table></figure>
</li>
<li><p>成果</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/20/Echarts/image-20200719215053753.png" alt="image-20200719215053753"></p>
</li>
</ol>
<h1 id="后台搭建服务器"><a href="#后台搭建服务器" class="headerlink" title="后台搭建服务器"></a>后台搭建服务器</h1><ol>
<li><p>整理好相关文件</p>
</li>
<li><p>创建整理文件夹</p>
<ul>
<li>public（存放js、css、图片文件）</li>
<li>views（存放html页面）</li>
</ul>
</li>
<li><p>下载所需基础模块(下载模块前记得初始化package文件)</p>
<ul>
<li>jQuery</li>
<li>Bootstrap（可能用不到）</li>
<li>body-parser（最后发现用不到）</li>
<li>express</li>
<li>mongoose(本来打算连接芒果数据库的数据，最后发现本地有一个json格式的疫情数据，就用不上这个模块了)</li>
<li>art-template（模板引擎）</li>
</ul>
</li>
<li><p>设计路由，因为这里简单只需用到渲染页面以及返回数据的路由，所以偷个懒</p>
</li>
<li><p>初始化app.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入fs模块，用来读取疫情数据</span></span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//body-parse中间件配置</span></span><br><span class="line"><span class="comment">// parse application/x-www-form-urlencoded</span></span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"><span class="comment">// parse application/json</span></span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板引擎 engine后面没有r谢谢</span></span><br><span class="line">app.engine(<span class="string">'html'</span>, <span class="built_in">require</span>(<span class="string">'express-art-template'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//开放静态资源</span></span><br><span class="line">app.use(<span class="string">'/public'</span>, express.static(<span class="string">'./public/'</span>))</span><br><span class="line">app.use(<span class="string">'/node_modules'</span>, express.static(<span class="string">"./node_modules/"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//首页渲染</span></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//post请求返回疫情数据</span></span><br><span class="line">app.post(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//开放端口</span></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"server is running..."</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>渲染页面（get路由）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    res.render(<span class="string">'index.html'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>分析json文件</p>
<p>这里因为只需要中国地区城市的疫情数据，所以需要进行筛选</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/20/Echarts/image-20200716100603807.png" alt="image-20200716100603807"></p>
<p><img src= "/img/loading.gif" data-src="/2020/07/20/Echarts/image-20200716100627300.png" alt="image-20200716100627300"></p>
<p>从数据可以看出，数组内第一个对象即为中国的疫情状况，所以这里直接读取第一个对象即可，用fs模块读取整个json文件，因为读取后的数据是json格式，使用json.parse将其转化为对象格式，再从里面的cities获取中国城市的疫情数据，记得读取文件时加上<code>utf8</code>参数，否则会出现乱码，下面放出代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app.post(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    fs.readFile(<span class="string">'./public/DXYArea.json'</span>, <span class="string">'utf8'</span>, (err, data) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'error'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// console.log(data)</span></span><br><span class="line">        <span class="keyword">var</span> virus = <span class="built_in">JSON</span>.parse(data).results</span><br><span class="line">        <span class="built_in">console</span>.log(virus)</span><br><span class="line">        <span class="keyword">var</span> cn = virus[<span class="number">0</span>].cities</span><br><span class="line">        res.send(cn)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>到这里，后台搭建就准完毕，可以浏览器访问<code>localhost:3000</code>查看基础页面</p>
</li>
</ol>
<h1 id="ajax配合echarts使用"><a href="#ajax配合echarts使用" class="headerlink" title="ajax配合echarts使用"></a>ajax配合echarts使用</h1><blockquote>
<p>这里，其实思考过几种方法，一种是通过后台获取数据然后利用模板引擎将数据转到前端隐藏控件中去读取然后进行数据渲染，详情可参考这篇文章<a href="https://blog.csdn.net/tksnail/article/details/88096072，但是里面的数据较为简单，而这边是一整个对象数组，转到前端去就全部变成字符串类型，除非先在后台对数据进行处理，转成一个一个数组后传递到前端，但我想尝试在前端的Ajax中处理。所以自己摸索研究了一下" target="_blank" rel="noopener">https://blog.csdn.net/tksnail/article/details/88096072，但是里面的数据较为简单，而这边是一整个对象数组，转到前端去就全部变成字符串类型，除非先在后台对数据进行处理，转成一个一个数组后传递到前端，但我想尝试在前端的Ajax中处理。所以自己摸索研究了一下</a></p>
</blockquote>
<ol>
<li><p>在放有echarts的js文件中，在想要引用数据的图表中，建立Ajax，代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">'/'</span>,</span><br><span class="line">    type: <span class="string">'post'</span>,</span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    dataType: <span class="string">'json'</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>分析数据，依旧是对象格式，这很棒，然后就想着怎么拿里面数据，这里要拿到城市名和疫情状况，字段名分别是<code>cityName</code>和<code>confirmedCount</code>，这里在ajax外定义两个数组用来存放数据，，接着在通过for循环将数据存入数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">    city.push(data[i].cityName)</span><br><span class="line">    num.push(data[i].confirmedCount)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后需要重新配置图表用以更新数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//必须在这里在设置一遍，这里涉及到的问题不太懂，只知道如不再设置，而在ajax外赋值是没有作用的</span></span><br><span class="line">myChart.setOption(&#123; <span class="comment">//加载数据图表</span></span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        data: city</span><br><span class="line">    &#125;,</span><br><span class="line">    series: [&#123;</span><br><span class="line">        <span class="comment">// 根据名字对应到相应的系列</span></span><br><span class="line">        data: num</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>完整代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> city = []</span><br><span class="line"><span class="keyword">var</span> num = []</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">'/'</span>,</span><br><span class="line">    type: <span class="string">'post'</span>,</span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    dataType: <span class="string">'json'</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            city.push(data[i].cityName)</span><br><span class="line">            num.push(data[i].confirmedCount)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// myChart.hideLoading()</span></span><br><span class="line">        <span class="comment">//必须在这里在设置一遍，这里涉及到的问题不太懂（可能是同步异步的问题，后面再去补齐这一部分理论），只知道如不再设置，而在ajax外赋值是没有作用的</span></span><br><span class="line">        myChart.setOption(&#123; <span class="comment">//加载数据图表</span></span><br><span class="line">            xAxis: &#123;</span><br><span class="line">                data: city</span><br><span class="line">            &#125;,</span><br><span class="line">            series: [&#123;</span><br><span class="line">                <span class="comment">// 根据名字对应到相应的系列</span></span><br><span class="line">                data: num</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>这里，echarts搭配node以及ajax的学习过程就完成啦，后面会将整个<a href="https://ypigy.gitee.io/2020/07/20/%E5%85%A8%E7%90%83%E7%96%AB%E6%83%85%E5%9C%B0%E5%9B%BE/" target="_blank" rel="noopener">疫情地图</a>的小项目完成放在自己的博客上。</p>
</li>
</ol>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">天际线上的猪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://dong-666.github.io/2020/07/20/Echarts/">http://dong-666.github.io/2020/07/20/Echarts/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://Dong-666.github.io" target="_blank">Dong</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Echarts/">Echarts</a><a class="post-meta__tags" href="/tags/ArcGIS-Server/">ArcGIS Server</a><a class="post-meta__tags" href="/tags/Node/">Node</a></div><div class="post_share"><div class="social-share" data-image="/img/code.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button" type="button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.png" alt="wechat" onclick="window.open('/img/wechat.png')"/><div class="post-qr-code__desc">wechat</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="alipay" onclick="window.open('/img/alipay.jpg')"/><div class="post-qr-code__desc">alipay</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/07/20/AJAX/"><img class="prev-cover" data-src="/img/code.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">AJAX笔记</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/20/%E5%85%A8%E7%90%83%E7%96%AB%E6%83%85%E5%9C%B0%E5%9B%BE/"><img class="next-cover" data-src="/img/code.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">全球疫情地图</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/07/20/全球疫情地图/" title="全球疫情地图"><img class="relatedPosts_cover" data-src="/img/code.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-20</div><div class="relatedPosts_title">全球疫情地图</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div class="comments-items-1" data-name="Valine"><div class="vcomment" id="vcomment"></div><script>function loadvaline () {  
  var requestSetting = function (from,set) {
    var from = from
    var setting = set.split(',').filter(function(item){
    return from.indexOf(item) > -1
    });
    setting = setting.length == 0 ? from :setting;
    return setting
  }

  var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
  var requiredFields = requestSetting(['nick','mail'],'nick,mail')

  function initValine () {
    window.valine = new Valine({
      el:'#vcomment',
      appId: 'K4oel47dX9gLB9DECHDKW5HF-gzGzoHsz',
      appKey: 'FI26zV0So19K2wVMY6Ds4nAA',
      placeholder: 'Please leave your footprints',
      avatar: 'hide',
      meta: guestInfo,
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      requiredFields: requiredFields
    });
  }
  loadScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || false) {
  window.addEventListener('load', loadvaline)
}
else {
  function loadOtherComment () {
    loadvaline()
  }
}</script></div></div></div></article></main><footer id="footer" style="background-image: url(/img/code.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 天际线上的猪</div><div class="footer_custom_text">Hi, Welcome to my blog</div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>